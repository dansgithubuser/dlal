include(../../../build/CMakeCommon.txt)
set(output Midi)

include_directories("../deps/rtmidi")

if(CMAKE_SYSTEM_NAME MATCHES "Linux")
	add_definitions(-D__LINUX_ALSA__)
elseif(CMAKE_SYSTEM_NAME MATCHES "Windows")
	add_definitions(-D__WINDOWS_MM__)
elseif(CMAKE_SYSTEM_NAME MATCHES "Darwin")
	add_definitions(-D__MACOSX_CORE__)
endif()

set(src "../deps/rtmidi/RtMidi.cpp")
component_src(page)
footer()

if(CMAKE_SYSTEM_NAME MATCHES "Linux")
	target_link_libraries(${output} asound pthread)
elseif(CMAKE_SYSTEM_NAME MATCHES "Windows")
	target_link_libraries(${output} winmm)
elseif(CMAKE_SYSTEM_NAME MATCHES "Darwin")
	find_library(coreMidi CoreMIDI)
	find_library(coreAudio CoreAudio)
	find_library(coreFoundation CoreFoundation)
	target_link_libraries(${output} ${coreMidi} ${coreAudio} ${coreFoundation})
endif()
